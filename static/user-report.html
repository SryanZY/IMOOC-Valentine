<!DOCTYPE html>
<html lang="zh-cn">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Hello world!</title>
<!-- css文件 放头部-->
<link rel="stylesheet" type="text/css" href="css/style.css" />
<link rel="stylesheet" type="text/css" href="css/rep.css" />
<!-- 引入共有的css -->
<script src="js/style.js"></script>
</head>
<body>
    <div id="main">
       <div class="wrapper_rep">
            <div class="logo_rep">
                <h1>大学生英语能力诊断测评系统</h1>
                <h2>单项技能诊断测试-听力</h2>
                <h3>个人诊断报告</h3>
            </div>
            <!--考生信息-->
            <div class="info_rep">
                <div class="row">
                   <div class="col-md-6">
                       <label>姓名 ：</label><span>张三</span>
                   </div>
                   <div class="col-md-6">
                        <label>ID ：</label><span>160306</span>
                   </div>
                </div>
                <div class="row">
                   <div class="col-md-6">
                       <label>技能 ：</label><span>听力</span>
                   </div>
                   <div class="col-md-6">
                        <label>测试时间 ：</label><span></span>
                   </div>
                </div>
            </div>
            <!--考生信息 end-->
            
            <!--本次测试结果-->
            <div class="line_one">
                <h3><span>本次测试结果</span></h3>
                <div id="reusltTable">
                    <table class="table table-bordered">
                        <tr>
                            <th>听力能级别</th>
                            <th>听力分数</th>
                            <th>对应CSE级别</th>
                            <th>对应CEFR级别</th>
                            <th>班级排名</th>
                        </tr>
                        <tr>
                            <td>FLTRP7级</td>
                            <td>78</td>
                            <td>5</td>
                            <td>B1+</td>
                            <td>70%</td>
                        </tr>
                    </table>
                </div>
            </div>
            <!--本次测试结果 end-->
            
            <!--词汇量测试结果-->
            <div class="line_one">
                <h3><span>词汇量测试结果</span></h3>
                <div>根据你在词汇量测试部分的作答，你的词汇量大概在5000-6000。</div>
            </div>
            <!--词汇量测试结果 end-->
            
            <!--总体能力描述-->
            <div class="line_one">
                <h3><span>词汇量测试结果</span></h3>
                <div><p>你当前的听力级别为FLTRP 7级。你能听懂日常生活和工作的简单事实性信息，能听出基本信息和主要细节，但讲话人的口齿要清楚、口音正常；能听懂讲话的要点没包括短小的故事，主题为熟悉的、在工作、学习和娱乐中经常碰见的人和事。</p></div>
            </div>
            <!--词汇量测试结果 end-->
            
            <!--你的听力微技能表现-->
            <div class="line_one">
                <h3><span>你的听力微技能表现</span></h3>
                <div id="subSkillChart" style="min-width: 310px; height: 400px; max-width: 860px; margin: 0 auto"></div>
            </div>
            <!--你的听力微技能表现 end-->
            
            <!--听力任务的体裁答对率-->
            <div class="line_one">
                <h3><span>听力任务的体裁答对率</span></h3>
                <div id="taskGenreChart" style="min-width: 310px; height: 200px; max-width: 600px; margin: 0 auto"></div>
            </div>
            <!--听力任务的体裁答对率 end-->
            
            <!--听力任务的话题答对率-->
            <div class="line_one">
                <h3><span>听力任务的话题答对率</span></h3>
                <div id="taskTopicChart" style="min-width: 310px; height: 200px; max-width: 600px; margin: 0 auto"></div>
            </div>
            <!--听力任务的话题答对率 end-->
            
            <!--自评反馈-->
            <div class="line_one">
                <h3><span>自评反馈</span></h3>
                <div id="evaluationTable">
                    <table class="table table-bordered">
                        <tr>
                            <th>自评结果</th>
                            <th>实际测评结果</th>
                        </tr>
                        <tr>
                            <td>11级</td>
                            <td>9级</td>
                        </tr>
                    </table>
                    <p>具体评价……</p>
                </div>
            </div>
            <!--自评反馈 end-->
            
            <!--成长曲线-->
            <div class="line_one">
                <h3><span>成长曲线</span></h3>
                <div id="growthCurveChart" style="min-width: 310px; height: 300px; max-width: 700px; margin: 0 auto"></div>
            </div>
            <!--成长曲线 end-->
            
            <!--建议-->
            <div class="line_one">
                <h3><span>你现在的级别是7级，建议你以9级为学习目标。通过下表可以对比两个级别的差异:</span></h3>
                <div id="suggestTable">
                    <table class="table table-bordered">
                        <tr>
                            <th>FLTRP听力 7级</th>
                            <th>FLTRP听力 9级</th>
                        </tr>
                        <tr>
                            <td>
                                <ul><li>能基本听懂发音清晰、发音标准、有关熟悉话题的、有一定长度的讨论。</li>
                                <li>能听懂话题熟悉、呈现方式直白、结构清晰的讲座或谈话。</li>
                                <li>能听懂常用设备的操作说明。</li>
                                <li>能听懂发音清晰、有关熟悉话题的录音材料的主要内容。</li>
                                <li>能听懂大多数与个人兴趣相符、发音标准的音频材料的内容。</li>
                                <li>能听懂熟悉话题材料的重要事实和细节。</li>
                                <li>能理解有关熟悉话题的对话、演讲中说话者的态度和观点。</li>
                                <li>能理解日常会话的语境，判断说话者之间的关系。</li>
                                <li>能理解简短听力材料中的句间关系，如比较、推理、因果关系。</li></ul>
                            </td>
                            <td>
                                <ul><li>能听懂内容与语言较为复杂的学术讲座和报告的主旨大意。</li>
                                <li>能听懂发音标准、在社会生活或学术生活中常见的录音材料。</li>
                                <li>能听懂大部分发音标准、语速正常的纪录片及其他录音或广播材料。</li>
                                <li>能听懂话题熟悉、具有明显标记的、一定长度且较为复杂的论证。</li>
                                <li>能听懂发音标准、语速正常、有关熟悉话题的通知和信息。</li>
                                <li>能从大部分有关公众话题或所学专业相关的正式与非正式的交流中获取特定的、重要的细节。</li>
                                <li>能判断日常会话中说话人的观点与态度。</li>
                                <li>能辨别发音标准、在社会生活或学术生活中常见的录音材料中说话人的观点。</li>
                                <li>能从发音标准、语速正常的大部分录音或广播材料中辨别说话者的情绪。</li></ul>
                            </td>
                        </tr>
                    </table>
                    
                </div>
            </div>
            <!--建议 end-->
        </div>
    </div>

    <!-- js文件放底部 -->
    <!-- 共有的js引用commos.js -->
    <script src="js/common.js"></script>
    <script src="js/highcharts.js"></script>
    <!--  各个页面单独用的js 各自引入-->
    <script type="text/javascript">
    var userId = $.getUrlParam('userId');
    var skill = $.getUrlParam('skill');
    var beginDate = $.getUrlParam('beginDate');
    var endDate = $.getUrlParam('endDate');
    $(function(){
        getReportInfo();
    });
    
    function getReportInfo() {
        renderSubSkillResults();
        renderTaskGenreResults();
        renderTaskTopicResults();
        renderGrowthCurveResults();
    }
    
    function renderSubSkillResults(results){
        Highcharts.chart('subSkillChart', {
            credits: {
                enabled: false
            },
            chart: {
                type: 'bar'
            },
            title: {
                text: ''
            },
            plotOptions: {
                series: {
                    dataLabels: {
                        enabled: true
                    },
                    pointWidth: 25
                }
            },
            xAxis : {
                categories: ["理解主旨大意", "获取特定的细节信息", "推断说话者的态度、观点和语气", "推断说话者的目的", "做一般性推断", "理解句间/事件间的关系"]
            },
            yAxis:{
                lineWidth: 1,
                tickWidth:1, //刻度标签宽度
                gridLineWidth: 0,
                title: {
                    text: ''
                },
                tickPositioner: function () {
                    var positions = [],
                        tick = 0,
                        increment = 10;
                    for (tick; tick - increment <= this.dataMax; tick += increment) {
                        positions.push(tick);
                    }
                    return positions;
                }
            },
            series: [{
                name: '能力转换分数',
                data: [15,16,18,19,25,28]
            }]
        });
    }
    
    function renderTaskGenreResults(results){
        Highcharts.chart('taskGenreChart', {
            credits: {
                enabled: false
            },
            chart: {
                type: 'bar'
            },
            title: {
                text: ''
            },
            legend: {
                enabled: false
            },
            plotOptions: {
                series: {
                    dataLabels: {
                        enabled: true
                    },
                    pointWidth: 25
                }
            },
            xAxis : {
                categories: ["新闻","对话","访谈"]
            },
            yAxis:{
                lineWidth: 1,
                tickWidth:1, //刻度标签宽度
                gridLineWidth: 0,
                tickPixelInterval: 20,
                title: {
                    text: ''
                },
                tickPositioner: function () {
                    var positions = [],
                        tick = 0,
                        increment = 20;
                    for (tick; tick - increment <= this.dataMax; tick += increment) {
                        positions.push(tick);
                    }
                    return positions;
                }
            },
            series: [{
                data: [32,67,89]
            }]
        });
    }
    
    function renderTaskTopicResults(results){
        Highcharts.chart('taskTopicChart', {
            credits: {
                enabled: false
            },
            chart: {
                type: 'bar'
            },
            title: {
                text: ''
            },
            legend: {
                enabled: false
            },
            plotOptions: {
                series: {
                    dataLabels: {
                        enabled: true
                    },
                    pointWidth: 25
                }
            },
            xAxis : {
                categories: ["天气","政治","经济"]
            },
            yAxis:{
                lineWidth: 1,
                tickWidth:1, //刻度标签宽度
                gridLineWidth: 0,
                title: {
                    text: ''
                },
                tickPositioner: function () {
                    var positions = [],
                        tick = 0,
                        increment = 20;
                    for (tick; tick - increment <= this.dataMax; tick += increment) {
                        positions.push(tick);
                    }
                    return positions;
                }
            },
            series: [{
                data: [42,75,93]
            }]
        });
    }
    
    function renderGrowthCurveResults(results){
        Highcharts.chart('growthCurveChart', {
            credits: {
                enabled: false
            },
            legend: {
                enabled: false
             },
            chart:{
                zoomType: 'xy' //支持图表放大缩小的范围  
            },
            title:{
                text: ''
            },
            subtitle :{
                text: ''
            },
            plotOptions : {
                line: {
                   dataLabels: {
                      enabled: true,
                      formatter: function(){
                          return this.y
                      }
                   },
                   enableMouseTracking: false
                }
             },
            xAxis:{
                tickWidth:1, //刻度标签宽度
                gridLineWidth: 0, 
                tickmarkPlacement:'on',
                categories: ['2017.02', '2017.09', '2018.02']
            },
            yAxis:[{
                     lineWidth: 1,
                     tickWidth:1, //刻度标签宽度
                     tickmarkPlacement:'on',
                     gridLineWidth: 0,
                     categories: ['5级', '7级', '9级',"11级"],
                     title: {
                        text: 'FLTRP级别'
                     }
                }, { // Secondary yAxis
                    tickWidth:1, //刻度标签宽度
                    lineWidth: 1,
                    tickmarkPlacement:'on',
                    gridLineWidth: 0,
                    categories: ['B1', 'B1+', 'B2',"C1"],
                    title: {
                        text: 'CEFR级别'
                    },
                    opposite: true
                }, { // Tertiary yAxis
                    tickWidth:1, //刻度标签宽度
                    lineWidth: 1,
                    tickmarkPlacement:'on',
                    gridLineWidth: 0,
                    categories: ['4', '5', '6',"7"],
                    title: {
                        text: 'CSE级别'
                    },
                    opposite: true
            }],
            series:[{
                name:'FLTRP级别',
                data: [0, 3, 2]
            },{
                name:'CEFR级别',
                yAxis: 1,
                data: [0, 3, 2]
            },{
                name:'CSE级别',
                yAxis: 2,
                data: [0, 3, 2]
            }]
        });
    }
    </script>
</body>
</html>
